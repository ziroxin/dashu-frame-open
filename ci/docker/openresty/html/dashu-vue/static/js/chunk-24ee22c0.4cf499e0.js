(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24ee22c0"],{"0427":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"dataForm",staticClass:"width600",attrs:{model:e.temp,"label-position":"right","label-width":"120px"}},[a("div",{staticClass:"tip"},[a("i",{staticClass:"el-icon-set-up"}),e._v(" 密码复杂度设置 ")]),a("el-form-item",{staticStyle:{width:"440px"},attrs:{label:"密码长度"}},[a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{prop:"startLength",rules:[{required:!0,message:"开始长度不能为空"}]},model:{value:e.temp.startLength,callback:function(t){e.$set(e.temp,"startLength",t)},expression:"temp.startLength"}})],1),a("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{prop:"endLength",rules:[{required:!0,message:"结束长度不能为空"}]},model:{value:e.temp.endLength,callback:function(t){e.$set(e.temp,"endLength",t)},expression:"temp.endLength"}})],1)],1),a("el-form-item",{attrs:{label:"密码强度","label-position":"right"}},[a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{prop:"lowercase"},model:{value:e.temp.lowercase,callback:function(t){e.$set(e.temp,"lowercase",t)},expression:"temp.lowercase"}},[a("el-radio-button",{attrs:{label:"2"}},[e._v("可有可无")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("必须有小写字母")]),a("el-radio-button",{attrs:{label:"0"}},[e._v("无小写字母")])],1),a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{prop:"uppercase"},model:{value:e.temp.uppercase,callback:function(t){e.$set(e.temp,"uppercase",t)},expression:"temp.uppercase"}},[a("el-radio-button",{attrs:{label:"2"}},[e._v("可有可无")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("必须有大写字母")]),a("el-radio-button",{attrs:{label:"0"}},[e._v("无大写字母")])],1),a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{prop:"numbers"},model:{value:e.temp.numbers,callback:function(t){e.$set(e.temp,"numbers",t)},expression:"temp.numbers"}},[a("el-radio-button",{attrs:{label:"2"}},[e._v("可有可无")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("必须有数字")]),a("el-radio-button",{attrs:{label:"0"}},[e._v("无数字")])],1),a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{prop:"specialCharacters"},model:{value:e.temp.specialCharacters,callback:function(t){e.$set(e.temp,"specialCharacters",t)},expression:"temp.specialCharacters"}},[a("el-radio-button",{attrs:{label:"2"}},[e._v("可有可无")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("必须有特殊字符")]),a("el-radio-button",{attrs:{label:"0"}},[e._v("无特殊字符")])],1),a("el-switch",{staticStyle:{"margin-bottom":"20px"},attrs:{prop:"banUsername","active-text":"不能包含用户名","active-value":1,"active-color":"#ff4949","inactive-text":"可以包含用户名","inactive-value":0},model:{value:e.temp.banUsername,callback:function(t){e.$set(e.temp,"banUsername",t)},expression:"temp.banUsername"}})],1),a("el-form-item",{attrs:{label:"规则不符提示",prop:"prompt"}},[a("el-input",{attrs:{rules:[{required:!0,message:"提示语不能为空"}],type:"textarea",maxlength:"255",placeholder:"请输入提示语"},model:{value:e.temp.prompt,callback:function(t){e.$set(e.temp,"prompt",t)},expression:"temp.prompt"}})],1),a("el-form-item",{attrs:{label:"密码有效期",prop:"validTime"}},[a("el-switch",{attrs:{"inactive-text":"永不过期","active-text":"过期时间"},model:{value:e.validTimeEnable,callback:function(t){e.validTimeEnable=t},expression:"validTimeEnable"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.validTimeEnable,expression:"validTimeEnable"}],staticStyle:{width:"150px",margin:"0px 20px"},attrs:{rules:[{required:!0,message:"有效期不能为空，为空请填0"}],placeholder:"请输入有效时间（为空请填0）"},model:{value:e.temp.validTime,callback:function(t){e.$set(e.temp,"validTime",t)},expression:"temp.validTime"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.validTimeEnable,expression:"validTimeEnable"}]},[e._v("天")])],1),a("div",{staticClass:"tip"},[a("i",{staticClass:"el-icon-warning-outline"}),e._v(" 登录安全设置 ")]),a("el-form-item",{attrs:{label:"限制次数"}},[a("el-switch",{attrs:{"inactive-text":"登录错误不锁定","active-text":"登录错误几次锁定"},model:{value:e.loginFailedTimesEnable,callback:function(t){e.loginFailedTimesEnable=t},expression:"loginFailedTimesEnable"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.loginFailedTimesEnable,expression:"loginFailedTimesEnable"}],staticStyle:{width:"150px",margin:"0px 20px"},attrs:{prop:"loginFailedTimes",placeholder:"请输入登录失败限制次数"},model:{value:e.temp.loginFailedTimes,callback:function(t){e.$set(e.temp,"loginFailedTimes",t)},expression:"temp.loginFailedTimes"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.loginFailedTimesEnable,expression:"loginFailedTimesEnable"}],attrs:{label:"锁定时间"}},[a("el-switch",{attrs:{"inactive-text":"永久锁定","active-text":"限时锁定"},model:{value:e.lockTimeEnable,callback:function(t){e.lockTimeEnable=t},expression:"lockTimeEnable"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.lockTimeEnable,expression:"lockTimeEnable"}],staticStyle:{width:"150px",margin:"0px 20px"},attrs:{prop:"lockTime",placeholder:"请输入锁定时间（单位分钟）"},model:{value:e.temp.lockTime,callback:function(t){e.$set(e.temp,"lockTime",t)},expression:"temp.lockTime"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.lockTimeEnable,expression:"lockTimeEnable"}]},[e._v("分钟")])],1),a("el-form-item",{attrs:{label:"默认密码",prop:"defaultPassword"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{rules:[{required:!0,message:"默认密码不能为空"}],placeholder:"请输入默认密码"},model:{value:e.temp.defaultPassword,callback:function(t){e.$set(e.temp,"defaultPassword",t)},expression:"temp.defaultPassword"}}),a("span",[e._v("（重置密码时的默认密码）")])],1)],1),a("div",{staticClass:"dialog-footer width600",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"120px"},attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.saveData}},[e._v("保存配置")])],1)],1)},i=[],s=a("6724"),o=a("b775"),n={directives:{waves:s["a"]},data:function(){return{temp:{},validTimeEnable:!1,loginFailedTimesEnable:!1,lockTimeEnable:!1}},watch:{validTimeEnable:function(e){!1===e&&(this.temp.validTime=0)},loginFailedTimesEnable:function(e){!1===e&&(this.temp.loginFailedTimes=0)},lockTimeEnable:function(e){!1===e&&(this.temp.lockTime=0)}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;Object(o["a"])({url:"/zsafety/zSafety/getSafety",method:"get"}).then((function(t){var a=t.data;e.temp=Object.assign({},a),e.validTimeEnable=e.temp.validTime>0,e.loginFailedTimesEnable=e.temp.loginFailedTimes>0,e.lockTimeEnable=e.temp.lockTime>0}))},saveData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a=e.temp;if(console.dir(e.temp.banUsername),!0===e.validTimeEnable&&a.validTime<=0)return void e.$message({type:"error",message:"请输入密码有效期限制天数，必须大于0！"});if(!0===e.loginFailedTimesEnable&&a.loginFailedTimes<=0)return void e.$message({type:"error",message:"请输入登录错误几次后锁定，必须大于0！"});if(!0===e.lockTimeEnable&&a.lockTime<=0)return void e.$message({type:"error",message:"请输入登录错误后锁定时长，必须大于0！"});Object(o["a"])({url:"/zsafety/zSafety/update",method:"post",data:a}).then((function(t){e.$message({type:"success",message:"保存成功！"}),e.loadData()}))}}))}}},r=n,m=(a("36f4"),a("2877")),p=Object(m["a"])(r,l,i,!1,null,"981ae164",null);t["default"]=p.exports},"277c":function(e,t,a){},"36f4":function(e,t,a){"use strict";a("277c")}}]);