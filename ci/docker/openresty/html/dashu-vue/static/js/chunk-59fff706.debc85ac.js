(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59fff706"],{"02ed":function(e,t,a){},"1c82":function(e,t,a){"use strict";a("02ed")},"233f":function(e,t,a){"use strict";a("a668")},6770:function(e,t,a){"use strict";a("952d")},6809:function(e,t,a){"use strict";a("997a")},"952d":function(e,t,a){},"997a":function(e,t,a){},"9db7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.icon.includes("el-icon")?a("i",{class:e.icon}):a("svg-icon",{attrs:{"icon-class":e.icon}})},r=[],i={name:"IconShow",props:{icon:{type:String,default:""}}},s=i,o=a("2877"),l=Object(o["a"])(s,n,r,!1,null,"89eff4be",null);t["a"]=l.exports},a668:function(e,t,a){},bc82:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.uploadData?a("div",[a("el-button",{attrs:{type:"danger",icon:"el-icon-refresh",size:"small"},on:{click:e.reloadUpload}},[e._v("重新上传")]),a("div",{staticClass:"uploadDataInfo"},[a("div",[e._v("上传成功 "),a("a",{attrs:{href:e.$baseServer+e.uploadData.fileUrl,target:"_blank"}},[e._v("[点击下载]")]),e._v(" 其他文件信息：")]),a("div",[e._v("原文件名:"+e._s(e.uploadData.fileOldName))]),a("div",[e._v("服务器文件名:"+e._s(e.uploadData.fileName))]),a("div",[e._v("文件扩展名:"+e._s(e.uploadData.fileExtend))]),a("div",[e._v("文件大小:"+e._s(e.formatSize(e.uploadData.fileSize)))]),e.isCopy?a("div",{staticStyle:{color:"#dd1f29"}},[e._v("文件拷贝地址（业务表文件地址）:"+e._s(e.uploadData.copyPath))]):e._e()])],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.uploadData,expression:"!uploadData"}],staticClass:"upload"},[a("label",{staticClass:"fileInputButton",attrs:{for:"fileInput"}},[a("icon-show",{attrs:{icon:"el-icon-plus"}}),e._v(" 选择文件 "),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",id:"fileInput",accept:e.mimeTypes},on:{change:e.handleFileChange}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2",size:"small"},on:{click:e.submitUpload}},[e._v("开始上传")]),e.currentFile?a("div",{key:e.currentFile.lastModified},[a("h2",[e._v(e._s(e.currentFile.name)+"("+e._s(e.formatSize(e.currentFile.size))+")")]),a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:e.percentage,status:"success"}})],1):e._e()],1)])},r=[],i=a("c7eb"),s=a("1da1"),o=(a("a9e3"),a("3ca3"),a("ddb0"),a("fb6a"),a("d3b7"),a("b0c0"),a("b680"),a("caad"),a("2532"),a("69a0")),l=a.n(o),c=a("9db7"),u=a("b893"),p={name:"FileSecond",components:{IconShow:c["a"]},props:{secondServerUrl:{type:String,required:!0,default:"/upload/second/chunks"},secondMd5Url:{type:String,required:!0,default:"/upload/second/md5"},uploadDir:{type:String,default:""},isCopy:{type:Boolean,default:!0},chunkSize:{type:Number,default:1048576},mimeTypes:{type:String,default:".zip"},maxFileSize:{type:Number,default:10485760}},data:function(){return{currentFile:null,percentage:0,uploadData:null}},methods:{reloadUpload:function(){this.$refs.fileInput.value="",this.currentFile=this.uploadData=null,this.percentage=0},handleFileChange:function(e){this.currentFile=null,this.beforeUpload(e.target.files[0])&&(this.currentFile=e.target.files[0])},submitUpload:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getChunkFileMd5(e.currentFile,function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(a){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={secondMd5:a,isCopy:e.isCopy,path:e.uploadDir},e.$request({url:e.secondMd5Url,method:"get",params:n}).then((function(t){"200"===t.code&&t.data?(e.uploadData=t.data,e.percentage=100):(console.log("准备分片上传"),e.chunkFile(e.currentFile,Object(u["b"])()))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},chunkFile:function(e,t){var a=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var r,o,l;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=Math.ceil(e.size/a.chunkSize),o=Object(i["a"])().mark((function n(o){var l,c,u;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return l=o*a.chunkSize,c=l+a.chunkSize,u=e.slice(l,c),n.next=5,new Promise(function(){var n=Object(s["a"])(Object(i["a"])().mark((function n(l,c){return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getChunkFileMd5(u,function(){var n=Object(s["a"])(Object(i["a"])().mark((function n(p){var d;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return d={chunkMD5:p,chunk:o,chunks:r,name:e.name,uploadId:t,isCopy:a.isCopy,path:a.uploadDir},n.next=3,a.$request({url:a.secondServerUrl,method:"post",params:d,headers:{skipRepeatSubmitCheck:!0}}).then(function(){var n=Object(s["a"])(Object(i["a"])().mark((function n(l){var p;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("200"!==l.code){n.next=10;break}if(null===l.data){n.next=5;break}a.uploadProcess(l.data,o,r),n.next=8;break;case 5:return p={chunk:o,chunks:r,name:e.name,file:u,uploadId:t,isCopy:a.isCopy,path:a.uploadDir},n.next=8,a.$request({url:a.secondServerUrl,method:"post",data:p,headers:{skipRepeatSubmitCheck:!0,"Content-Type":"multipart/form-data"}}).then(function(){var e=Object(s["a"])(Object(i["a"])().mark((function e(t){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:"200"===t.code?a.uploadProcess(t.data,o,r):c("上传失败，请重试");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:n.next=11;break;case 10:c("上传失败，请重试");case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:l();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){console.log(e),l(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})),l=0;case 3:if(!(l<r)){n.next=8;break}return n.delegateYield(o(l),"t0",5);case 5:l++,n.next=3;break;case 8:case"end":return n.stop()}}),n)})))()},uploadProcess:function(e,t,a){e.merged?(this.uploadData=e,this.percentage=100):this.percentage=Number((100*t/a).toFixed(2))},getChunkFileMd5:function(e,t){return Object(s["a"])(Object(i["a"])().mark((function a(){var n,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=new FileReader,r=new l.a.ArrayBuffer,n.onload=function(e){r.append(e.target.result),t(r.end())},n.onerror=function(){console.error("文件读取出错"),t(null)},n.readAsArrayBuffer(e);case 5:case"end":return a.stop()}}),a)})))()},beforeUpload:function(e){var t=e.name.slice(e.name.lastIndexOf("."));return this.mimeTypes.split(",").includes(t)?!(e.size>this.maxFileSize)||(this.$message.error("文件大小不能超过"+this.formatSize(this.maxFileSize)),!1):(this.$message.error("只能上传"+this.mimeTypes+"格式的文件"),!1)},formatSize:function(e){var t=e+"B";return t=e>=1073741824?(e/1024/1024/1024).toFixed(2)+"GB":e>=1048576?(e/1024/1024).toFixed(2)+"MB":e>=1024?(e/1024).toFixed(2)+"KB":e+"B",t}}},d=p,f=(a("6809"),a("2877")),h=Object(f["a"])(d,n,r,!1,null,"ba800e16",null);t["a"]=h.exports},e6bf:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h2",{staticClass:"title"},[e._v("文件普通上传、分片上传、秒传、断点续传")]),a("div",{staticStyle:{"text-align":"center","margin-bottom":"50px"}},[a("el-radio-group",{model:{value:e.uploadType,callback:function(t){e.uploadType=t},expression:"uploadType"}},[a("el-radio-button",{attrs:{label:"normal"}},[e._v("普通上传")]),a("el-radio-button",{attrs:{label:"chunk"}},[e._v("分片上传")]),a("el-radio-button",{attrs:{label:"chunkResume"}},[e._v("断点续传")]),a("el-radio-button",{attrs:{label:"second"}},[e._v("秒传")])],1)],1),"normal"===e.uploadType?a("el-divider",{attrs:{"content-position":"center"}},[e._v("文件普通上传")]):e._e(),"normal"===e.uploadType?a("div",{staticClass:"content"},[a("div",{staticClass:"uploadPanel"},[a("el-upload",{attrs:{action:e.$baseServer+"/upload/files",headers:e.$store.getters.headerToken,"on-success":e.uploadFileSuccess,accept:".zip,.rar","show-file-list":!1,"auto-upload":!0}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2",size:"small"}},[e._v("点击选择文件上传")])],1)],1)]):e._e(),"chunk"===e.uploadType?a("el-divider",{attrs:{"content-position":"center"}},[e._v("文件分片上传")]):e._e(),"chunk"===e.uploadType?a("div",{staticClass:"content"},[a("div",{staticClass:"uploadPanel"},[a("plupload-chunk",{key:"chunk",attrs:{"upload-server-url":"/upload/chunks","upload-dir":"testChunks","max-file-size":"300mb","chunk-size":"10mb","mime-types":[{title:"Zip files",extensions:"zip"}]}})],1)]):e._e(),"chunkResume"===e.uploadType?a("el-divider",{attrs:{"content-position":"center"}},[e._v("文件断点续传")]):e._e(),"chunkResume"===e.uploadType?a("div",{staticClass:"content"},[a("div",{staticStyle:{"font-size":"12px",color:"#dd1f29","border-bottom":"1px dashed #eeeeee","margin-bottom":"15px"}},[e._v(" 说明：断点续传，是把文件分片，每次上传前，检测分片是否已上传。若已上传，则跳过；未上传的则继续上传。 ")]),a("div",{staticClass:"uploadPanel"},[a("file-chunk-resume",{key:"chunkResume",attrs:{"upload-server-url":"/upload/chunks/resume","upload-dir":"testChunksResume","mime-types":".zip,.rar","max-file-size":314572800,"chunk-size":10485760}})],1)]):e._e(),"second"===e.uploadType?a("el-divider",{attrs:{"content-position":"center"}},[e._v("文件秒传")]):e._e(),"second"===e.uploadType?a("div",{staticClass:"content"},[a("div",{staticStyle:{"font-size":"12px","border-bottom":"1px dashed #eeeeee","margin-bottom":"15px"}},[a("div",[e._v(" 使用本功能上传的文件，全部存入 “ 文件秒传表 ”。 点击进入： "),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.push("/files")}}},[e._v("[文件秒传管理]")])],1),a("div",{staticStyle:{color:"#dd1f29"}},[e._v(" 说明：上传前，先根据文件 md5 判断，表中是否存在： "),a("el-tag",{staticStyle:{"margin-right":"10px"},attrs:{type:"success",size:"mini"}},[e._v("若已存在，则跳过，直接返回结果；")]),a("el-tag",{attrs:{type:"danger",size:"mini"}},[e._v("若不存在，则上传，并存入 “ 文件秒传表 ”，返回结果。")])],1)]),a("div",[a("div",{staticClass:"secondInfo"},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"拷贝文件，业务表用单独（和文件秒传表解耦）","inactive-text":"不拷贝文件（使用文件秒传表中的fileUrl，可能会被删除）"},model:{value:e.isCopy,callback:function(t){e.isCopy=t},expression:"isCopy"}})],1),a("div",{staticClass:"uploadPanel"},[a("file-second",{attrs:{"second-server-url":"/upload/second/chunks","second-md5-url":"/upload/second/md5","upload-dir":"testSecond","mime-types":".zip,.rar","max-file-size":314572800,"chunk-size":10485760,"is-copy":e.isCopy}})],1)])]):e._e()],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isSupport,expression:"isSupport"}]},[e.uploadData?a("div",[a("el-button",{attrs:{type:"danger",icon:"el-icon-refresh",size:"small"},on:{click:e.reloadUpload}},[e._v("重新上传")]),a("div",{staticClass:"uploadDataInfo"},[a("div",[e._v("上传成功 "),a("a",{attrs:{href:e.$baseServer+e.uploadData.fileUrl,target:"_blank"}},[e._v("[点击下载]")]),e._v(" 其他文件信息：")]),a("div",[e._v("原文件名:"+e._s(e.uploadData.fileOldName))]),a("div",[e._v("服务器文件名:"+e._s(e.uploadData.fileName))]),a("div",[e._v("文件扩展名:"+e._s(e.uploadData.fileExtend))]),a("div",[e._v("文件大小:"+e._s(e.formatSize(e.uploadData.fileSize)))])])],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.uploadData,expression:"!uploadData"}],staticClass:"plupload"},[a("div",[a("el-button",{attrs:{id:"selectFileBtn",icon:"el-icon-plus",size:"small"}},[e._v("选择文件")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2",size:"small"},on:{click:e.uploadChunk}},[e._v("开始上传")])],1),e.currentFile?a("div",{key:e.currentFile.id},[a("h2",[e._v(e._s(e.currentFile.name)+"("+e._s(e.formatSize(e.currentFile.size))+")")]),a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:e.percentage,status:"success"}})],1):e._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSupport,expression:"!isSupport"}],staticClass:"noSupport"},[e._v(" 您的浏览器不支持Flash,Silverlight或者HTML5！ ")])])},s=[],o=a("c7eb"),l=a("2909"),c=a("1da1"),u=(a("d3b7"),a("159b"),a("b64b"),a("9dce")),p=a.n(u),d=a("b893"),f={name:"PluploadChunk",props:{uploadServerUrl:{type:String,required:!0,default:"/upload/chunks"},uploadDir:{type:String,default:""},chunkSize:{type:String,default:"1mb"},mimeTypes:{type:Array,default:function(){return[{title:"Zip files",extensions:"zip"}]}},maxFileSize:{type:String,default:"10mb"}},data:function(){return{isSupport:!1,currentFile:null,totalChunks:0,percentage:0,uploadData:null,uploader:null}},mounted:function(){this.init()},methods:{uploadChunk:function(){this.uploader.setOption("multipart_params",{uploadId:Object(d["b"])()}),this.uploader.start()},formatSize:function(e){return p.a.formatSize(e)},reloadUpload:function(){this.currentFile=this.uploadData=null,this.totalChunks=this.percentage=0,this.uploader.refresh()},init:function(){var e=this;return Object(c["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.uploader=new p.a.Uploader({runtimes:"html5,flash,silverlight",browse_button:document.getElementById("selectFileBtn"),url:e.$baseServer+e.uploadServerUrl+"?path="+e.uploadDir,filters:{mime_types:e.mimeTypes,max_file_size:e.maxFileSize,prevent_duplicates:!0},chunk_size:e.chunkSize,multipart:!0,file_data_name:"file",multi_selection:!1,init:{PostInit:function(){e.isSupport=!0},FilesAdded:function(t,a){var n=Object(l["a"])(t.files);n.forEach((function(n){n.id===a[0].id?e.currentFile=n:t.removeFile(n)}))},UploadProgress:function(t,a){console.log("upload progress",a.percent),e.percentage=a.percent},FileUploaded:function(t,a,n){console.log("file uploaded",n);var r=JSON.parse(n.response);200===n.status&&"200"===r.code?(e.uploadData=r.data,e.$message({type:"success",message:"文件上传成功！"})):e.$message({type:"error",message:"文件上传失败，请刷新后重新上传！"})},Error:function(t,a){-600===a.code?e.$message({type:"error",message:"选择的文件太大了，限制："+e.maxFileSize}):-601===a.code?e.$message({type:"error",message:"选择的文件类型不支持"}):-602===a.code?e.$message({type:"error",message:"文件重复！请重新选择"}):e.$message({type:"error",message:"上传错误，错误信息:"+a.response})}}}),e.uploader.init();case 2:case"end":return t.stop()}}),t)})))()}},destroyed:function(){this.uploader.destroy()}},h=f,m=(a("6770"),a("2877")),v=Object(m["a"])(h,i,s,!1,null,"2cbfa9e3",null),b=v.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.uploadData?a("div",[a("el-button",{attrs:{type:"danger",icon:"el-icon-refresh",size:"small"},on:{click:e.reloadUpload}},[e._v("重新上传")]),a("div",{staticClass:"uploadDataInfo"},[a("div",[e._v("上传成功 "),a("a",{attrs:{href:e.$baseServer+e.uploadData.fileUrl,target:"_blank"}},[e._v("[点击下载]")]),e._v(" 其他文件信息：")]),a("div",[e._v("原文件名:"+e._s(e.uploadData.fileOldName))]),a("div",[e._v("服务器文件名:"+e._s(e.uploadData.fileName))]),a("div",[e._v("文件扩展名:"+e._s(e.uploadData.fileExtend))]),a("div",[e._v("文件大小:"+e._s(e.formatSize(e.uploadData.fileSize)))])])],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.uploadData,expression:"!uploadData"}],staticClass:"upload"},[a("label",{staticClass:"fileInputButton",attrs:{for:"fileInput"}},[a("icon-show",{attrs:{icon:"el-icon-plus"}}),e._v(" 选择文件 "),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",id:"fileInput",accept:e.mimeTypes},on:{change:e.handleFileChange}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2",size:"small"},on:{click:e.submitUpload}},[e._v("开始上传")]),e.currentFile?a("div",{key:e.currentFile.lastModified},[a("h2",[e._v(e._s(e.currentFile.name)+"("+e._s(e.formatSize(e.currentFile.size))+")")]),a("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:e.percentage,status:"success"}})],1):e._e()],1)])},y=[],_=(a("a9e3"),a("3ca3"),a("ddb0"),a("fb6a"),a("b0c0"),a("b680"),a("caad"),a("2532"),a("69a0")),g=a.n(_),x=a("9db7"),w={name:"FileChunkResume",components:{IconShow:x["a"]},props:{uploadServerUrl:{type:String,required:!0,default:"/upload/chunks/resume"},uploadDir:{type:String,default:""},chunkSize:{type:Number,default:1048576},mimeTypes:{type:String,default:".zip"},maxFileSize:{type:Number,default:10485760}},data:function(){return{currentFile:null,percentage:0,uploadData:null}},methods:{reloadUpload:function(){this.$refs.fileInput.value="",this.currentFile=this.uploadData=null,this.percentage=0},handleFileChange:function(e){this.currentFile=null,this.beforeUpload(e.target.files[0])&&(this.currentFile=e.target.files[0])},submitUpload:function(){this.chunkFile(this.currentFile,Object(d["b"])())},chunkFile:function(e,t){var a=this;return Object(c["a"])(Object(o["a"])().mark((function n(){var r,i,s;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=Math.ceil(e.size/a.chunkSize),i=Object(o["a"])().mark((function n(i){var s,l,u;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=i*a.chunkSize,l=s+a.chunkSize,u=e.slice(s,l),n.next=5,new Promise(function(){var n=Object(c["a"])(Object(o["a"])().mark((function n(s,l){return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getChunkFileMd5(u,function(){var n=Object(c["a"])(Object(o["a"])().mark((function n(p){var d;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return d={chunkMD5:p,chunk:i,chunks:r,name:e.name,uploadId:t,path:a.uploadDir},n.next=3,a.$request({url:a.uploadServerUrl,method:"post",params:d,headers:{skipRepeatSubmitCheck:!0}}).then(function(){var n=Object(c["a"])(Object(o["a"])().mark((function n(s){var p;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("200"!==s.code){n.next=10;break}if(null===s.data){n.next=5;break}a.uploadProcess(s.data,i,r),n.next=8;break;case 5:return p={chunk:i,chunks:r,name:e.name,file:u,uploadId:t,path:a.uploadDir},n.next=8,a.$request({url:a.uploadServerUrl,method:"post",data:p,headers:{skipRepeatSubmitCheck:!0,"Content-Type":"multipart/form-data"}}).then(function(){var e=Object(c["a"])(Object(o["a"])().mark((function e(t){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:"200"===t.code?a.uploadProcess(t.data,i,r):l("上传失败，请重试");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:n.next=11;break;case 10:l("上传失败，请重试");case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:s();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){console.log(e),s(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})),s=0;case 3:if(!(s<r)){n.next=8;break}return n.delegateYield(i(s),"t0",5);case 5:s++,n.next=3;break;case 8:case"end":return n.stop()}}),n)})))()},uploadProcess:function(e,t,a){e.merged?(this.uploadData=e,this.percentage=100):this.percentage=Number((100*t/a).toFixed(2))},getChunkFileMd5:function(e,t){return Object(c["a"])(Object(o["a"])().mark((function a(){var n,r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=new FileReader,r=new g.a.ArrayBuffer,n.onload=function(e){r.append(e.target.result),t(r.end())},n.onerror=function(){console.error("文件读取出错"),t(null)},n.readAsArrayBuffer(e);case 5:case"end":return a.stop()}}),a)})))()},beforeUpload:function(e){var t=e.name.slice(e.name.lastIndexOf("."));return this.mimeTypes.split(",").includes(t)?!(e.size>this.maxFileSize)||(this.$message.error("文件大小不能超过"+this.formatSize(this.maxFileSize)),!1):(this.$message.error("只能上传"+this.mimeTypes+"格式的文件"),!1)},formatSize:function(e){var t=e+"B";return t=e>=1073741824?(e/1024/1024/1024).toFixed(2)+"GB":e>=1048576?(e/1024/1024).toFixed(2)+"MB":e>=1024?(e/1024).toFixed(2)+"KB":e+"B",t}}},S=w,F=(a("1c82"),Object(m["a"])(S,k,y,!1,null,"50b5a3a2",null)),z=F.exports,O=a("bc82"),j={components:{FileSecond:O["a"],FileChunkResume:z,PluploadChunk:b},data:function(){return{uploadType:"normal",isCopy:!0}},methods:{uploadFileSuccess:function(e){"200"===e.code?this.$message({type:"success",message:"文件上传成功！"}):this.$message({type:"error",message:e.message})}}},C=j,D=(a("233f"),Object(m["a"])(C,n,r,!1,null,"386ea293",null));t["default"]=D.exports}}]);