(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63c52910"],{"21a6":function(e,t,a){(function(a){var i,n,o;(function(a,l){n=[],i=l,o="function"===typeof i?i.apply(t,n):i,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,a){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){r(i.response,t,a)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,s=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,a){var s=l.URL||l.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener","string"==typeof e?(r.href=e,r.origin===location.origin?o(r):n(r.href)?i(e,t,a):o(r,r.target="_blank")):(r.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(r.href)}),4e4),setTimeout((function(){o(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,l){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,l),a);else if(n(e))i(e,a,l);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,a,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,a);var o="application/octet-stream"===e.type,r=/constructor/i.test(l.HTMLElement)||l.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&r||s)&&"undefined"!=typeof FileReader){var p=new FileReader;p.onloadend=function(){var e=p.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},p.readAsDataURL(e)}else{var d=l.URL||l.webkitURL,u=d.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout((function(){d.revokeObjectURL(u)}),4e4)}});l.saveAs=r.saveAs=r,e.exports=r}))}).call(this,a("c8ba"))},"8a60":function(e,t,a){"use strict";var i=a("c7eb"),n=a("1da1"),o=(a("b64b"),a("cee4")),l=a("5c96"),s=a("21a6"),r=a("5f87"),c={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"},p=a("b893"),d="/dashuserver";t["a"]={zip:function(e,t){var a=this,i=l["Loading"].service({text:"正在下载数据，请稍候",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"});Object(o["a"])({method:"get",url:d+e,responseType:"blob",headers:{UserJwtToken:Object(r["a"])()}}).then((function(e){var n=Object(p["a"])(e.data);if(n){var o=new Blob([e.data],{type:"application/zip"});a.saveAs(o,t),i.close()}else a.printErrMsg(e.data),i.close()}))},download:function(e,t,a){var c=l["Loading"].service({text:"正在下载数据，请稍候",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"});Object(o["a"])({method:"get",url:d+e,params:t,headers:{UserJwtToken:Object(r["a"])()}}).then(function(){var e=Object(n["a"])(Object(i["a"])().mark((function e(t){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:"200"===t.data.code?(Object(s["saveAs"])(d+t.data.data,a),c.close()):l["Message"].error(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),l["Message"].error("下载文件出现错误，请重试！"),c.close()}))},saveAs:function(e,t,a){Object(s["saveAs"])(e,t,a)},printErrMsg:function(e){return Object(n["a"])(Object(i["a"])().mark((function t(){var a,n,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.text();case 2:a=t.sent,n=JSON.parse(a),o=c[n.code]||n.msg||c["default"],l["Message"].error(o);case 6:case"end":return t.stop()}}),t)})))()}}},b380:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"small",placeholder:"输入用户名模糊查询"},model:{value:e.searchData.userName,callback:function(t){e.$set(e.searchData,"userName",t)},expression:"searchData.userName"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"small",placeholder:"输入方法名模糊查询"},model:{value:e.searchData.logMethod,callback:function(t){e.$set(e.searchData,"logMethod",t)},expression:"searchData.logMethod"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px","margin-right":"10px"},attrs:{size:"small",placeholder:"请输入IP地址查询"},model:{value:e.searchData.ip,callback:function(t){e.$set(e.searchData,"ip",t)},expression:"searchData.ip"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.searchBtnHandle}},[e._v("查询 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"info",size:"small",icon:"el-icon-refresh"},on:{click:e.resetTableList}},[e._v("重置 ")]),a("div",{staticStyle:{float:"right"}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:"zlog-zOperateLog-delete",expression:"'zlog-zOperateLog-delete'"}],attrs:{icon:"el-icon-delete",size:"small",type:"danger"},on:{click:e.deleteByIds}},[e._v("删除 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:"zlog-zOperateLog-exportExcel",expression:"'zlog-zOperateLog-exportExcel'"}],attrs:{icon:"el-icon-printer",size:"small",type:"success"},on:{click:e.exportExcel}},[e._v("导出Excel ")])],1)],1),a("el-table",{attrs:{data:e.tableData,stripe:"",border:""},on:{"selection-change":e.handleTableSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{label:"用户名",prop:"userName",align:"center","min-width":"10%"}}),a("el-table-column",{attrs:{label:"方法名称",prop:"logMethod",align:"center","min-width":"20%"}}),a("el-table-column",{attrs:{label:"方法描述",prop:"logMsg",align:"center","min-width":"30%"}}),a("el-table-column",{attrs:{label:"请求路径",prop:"actionUrl",align:"center","min-width":"10%"}}),a("el-table-column",{attrs:{label:"IP地址",prop:"ip",align:"center","min-width":"10%"}}),a("el-table-column",{attrs:{label:"操作时间",prop:"createTime",align:"center",width:"100"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.openView(t.row)}}},[e._v("查看详情")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{background:"",layout:"total,prev,pager,next,sizes","page-size":e.pager.limit,"current-page":e.pager.page,total:e.pager.totalCount},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),a("el-dialog",{attrs:{title:e.titleMap[e.dialogType],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"50px"},attrs:{model:e.temp,"label-position":"right","label-width":"100px",disabled:"view"===e.dialogType}},[a("el-form-item",{staticStyle:{display:"none"},attrs:{label:"操作日志id",prop:"logId",rules:[{required:!0,message:"操作日志id不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入操作日志id"},model:{value:e.temp.logId,callback:function(t){e.$set(e.temp,"logId",t)},expression:"temp.logId"}})],1),a("el-form-item",{attrs:{label:"操作人用户id",prop:"userId",rules:[]}},[a("el-input",{attrs:{placeholder:"请输入用户id"},model:{value:e.temp.userId,callback:function(t){e.$set(e.temp,"userId",t)},expression:"temp.userId"}})],1),a("el-form-item",{attrs:{label:"操作人用户名",prop:"userName",rules:[]}},[a("el-input",{attrs:{placeholder:"请输入操作人用户名"},model:{value:e.temp.userName,callback:function(t){e.$set(e.temp,"userName",t)},expression:"temp.userName"}})],1),a("el-form-item",{attrs:{label:"执行方法名称",prop:"logMethod",rules:[]}},[a("el-input",{attrs:{placeholder:"请输入执行方法名称"},model:{value:e.temp.logMethod,callback:function(t){e.$set(e.temp,"logMethod",t)},expression:"temp.logMethod"}})],1),a("el-form-item",{attrs:{label:"执行方法描述",prop:"logMsg",rules:[]}},[a("el-input",{attrs:{placeholder:"请输入执行方法描述"},model:{value:e.temp.logMsg,callback:function(t){e.$set(e.temp,"logMsg",t)},expression:"temp.logMsg"}})],1),a("el-form-item",{attrs:{label:"参数",prop:"content"}},[a("el-input",{attrs:{rules:[],type:"textarea",rows:8,placeholder:"请输入操作内容"},model:{value:e.temp.content,callback:function(t){e.$set(e.temp,"content",t)},expression:"temp.content"}})],1),a("el-form-item",{attrs:{label:"请求路径",prop:"actionUrl",rules:[]}},[a("el-input",{attrs:{placeholder:"请输入请求路径"},model:{value:e.temp.actionUrl,callback:function(t){e.$set(e.temp,"actionUrl",t)},expression:"temp.actionUrl"}})],1),a("el-form-item",{attrs:{label:"IP地址",prop:"ip",rules:[]}},[a("el-input",{attrs:{placeholder:"请输入IP地址"},model:{value:e.temp.ip,callback:function(t){e.$set(e.temp,"ip",t)},expression:"temp.ip"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["view"!==e.dialogType?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.saveData}},[e._v("保存")]):e._e(),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)},n=[],o=a("5530"),l=(a("e9c4"),a("d81d"),a("6724")),s=a("b775"),r=a("8a60"),c={directives:{waves:l["a"]},data:function(){return{pager:{page:1,limit:10,totalCount:0},tableData:[],searchData:{},tableSelectRows:[],titleMap:{add:"添加操作日志表",update:"修改操作日志表",view:"查看详情"},dialogType:"",dialogFormVisible:!1,temp:{}}},created:function(){this.loadTableList(),this.resetTemp()},methods:{searchBtnHandle:function(){this.pager.page=1,this.loadTableList()},resetTableList:function(){this.pager.page=1,this.searchData={},this.loadTableList()},loadTableList:function(){var e=this,t=Object(o["a"])(Object(o["a"])({},this.pager),{},{params:JSON.stringify(this.searchData)});Object(s["a"])({url:"/zlog/zOperateLog/list",method:"get",params:t}).then((function(t){var a=t.data;e.pager.totalCount=a.total,e.tableData=a.records}))},handleTableSelectChange:function(e){this.tableSelectRows=e},handleCurrentChange:function(e){this.pager.page=e,this.loadTableList()},handleSizeChange:function(e){this.pager.limit=e,this.loadTableList()},resetTemp:function(){this.temp={orderIndex:0}},openAdd:function(){var e=this;this.resetTemp(),this.dialogFormVisible=!0,this.dialogType="add",this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},openUpdate:function(){var e=this;this.tableSelectRows.length<=0?this.$message({message:"请选择一条数据修改！",type:"warning"}):this.tableSelectRows.length>1?this.$message({message:"修改时，只允许选择一条数据！",type:"warning"}):(this.temp=Object.assign({},this.tableSelectRows[0]),this.dialogType="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()})))},openView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogType="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},saveData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a=e.temp;"update"===e.dialogType?Object(s["a"])({url:"/zlog/zOperateLog/update",method:"post",data:a}).then((function(t){e.$message({type:"success",message:"修改成功！"}),e.loadTableList(),e.dialogFormVisible=!1})):Object(s["a"])({url:"/zlog/zOperateLog/add",method:"post",data:a}).then((function(t){e.$message({type:"success",message:"添加成功！"}),e.loadTableList(),e.dialogFormVisible=!1}))}}))},deleteByIds:function(){var e=this;this.tableSelectRows.length<=0?this.$message({message:"请选择一条数据删除！",type:"warning"}):this.$confirm("确定要删除吗?","删除提醒",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.tableSelectRows.map((function(e){return e.logId}));Object(s["a"])({url:"/zlog/zOperateLog/delete",method:"post",data:t}).then((function(t){e.$message({type:"success",message:"删除成功！"}),e.loadTableList()}))}))},exportExcel:function(){var e=Object(o["a"])(Object(o["a"])({},this.pager),{},{params:JSON.stringify(this.searchData)});r["a"].download("/zlog/zOperateLog/export/excel",e,"操作日志表.xlsx")}}},p=c,d=a("2877"),u=Object(d["a"])(p,i,n,!1,null,null,null);t["default"]=u.exports}}]);