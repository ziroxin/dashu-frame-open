(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fad54f7"],{"21a6":function(e,t,a){(function(a){var r,o,n;(function(a,s){o=[],r=s,n="function"===typeof r?r.apply(t,o):r,void 0===n||(e.exports=n)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){i(r.response,t,a)},r.onerror=function(){console.error("could not download file")},r.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,a){var l=s.URL||s.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?n(i):o(i.href)?r(e,t,a):n(i,i.target="_blank")):(i.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(i.href)}),4e4),setTimeout((function(){n(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,s){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),a);else if(o(e))r(e,a,s);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){n(l)}))}}:function(e,t,a,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,a);var n="application/octet-stream"===e.type,i=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||n&&i||l)&&"undefined"!=typeof FileReader){var p=new FileReader;p.onloadend=function(){var e=p.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},p.readAsDataURL(e)}else{var u=s.URL||s.webkitURL,m=u.createObjectURL(e);o?o.location=m:location.href=m,o=null,setTimeout((function(){u.revokeObjectURL(m)}),4e4)}});s.saveAs=i.saveAs=i,e.exports=i}))}).call(this,a("c8ba"))},"53d6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px","margin-right":"10px"},attrs:{size:"small",placeholder:"请输入表单名称查询"},model:{value:e.searchData.formName,callback:function(t){e.$set(e.searchData,"formName",t)},expression:"searchData.formName"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"130px","margin-right":"10px"},attrs:{size:"small",placeholder:"请输入表名查询"},model:{value:e.searchData.tableName,callback:function(t){e.$set(e.searchData,"tableName",t)},expression:"searchData.tableName"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"130px","margin-right":"10px"},attrs:{size:"small",placeholder:"请输入作者查询"},model:{value:e.searchData.author,callback:function(t){e.$set(e.searchData,"author",t)},expression:"searchData.author"}}),a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px","margin-right":"10px"},attrs:{size:"small",placeholder:"请选择状态"},model:{value:e.searchData.status,callback:function(t){e.$set(e.searchData,"status",t)},expression:"searchData.status"}},[a("el-option",{attrs:{label:"未生成",value:"0"}}),a("el-option",{attrs:{label:"已生成",value:"1"}})],1),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.searchBtnHandle}},[e._v("查询 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"info",size:"small",icon:"el-icon-refresh"},on:{click:e.resetTableList}},[e._v("显示全部 ")]),a("div",{staticStyle:{float:"right"}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:"generator-zFormGenerator-add",expression:"'generator-zFormGenerator-add'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.openAdd}},[e._v("新增 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:"generator-zFormGenerator-delete",expression:"'generator-zFormGenerator-delete'"}],attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.deleteByIds(null)}}},[e._v("删除 ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"dataTable",attrs:{data:e.tableData,stripe:"",border:""},on:{"selection-change":e.handleTableSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{label:"表单名称",prop:"formName",align:"center"}}),a("el-table-column",{attrs:{label:"表名",prop:"tableName",align:"center"}}),a("el-table-column",{attrs:{label:"表描述",prop:"tableDecription",align:"center"}}),a("el-table-column",{attrs:{label:"pom模块名",prop:"basePackage",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"生成包名",prop:"tablePackage",align:"center"}}),a("el-table-column",{attrs:{label:"前端路径",prop:"viewPath",align:"center"}}),a("el-table-column",{attrs:{label:"作者",prop:"author",align:"center"}}),a("el-table-column",{attrs:{label:"状态",prop:"status",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.status?a("el-tag",{attrs:{type:"warning"}},[e._v("未生成")]):e._e(),"1"===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("已生成")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"显示顺序",prop:"orderIndex",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"generator-zFormGenerator-update",expression:"'generator-zFormGenerator-update'"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.openUpdate(t.row)}}},[e._v("修改表单 ")]),a("el-button",{staticStyle:{color:"#13ce66"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.openView(t.row)}}},[e._v("详情 ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"generator-zFormGenerator-delete",expression:"'generator-zFormGenerator-delete'"}],staticStyle:{color:"#ff6d6d"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteByIds(t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{background:"",layout:"total,prev,pager,next,sizes","page-size":e.pager.limit,"current-page":e.pager.page,total:e.pager.totalCount},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),a("el-dialog",{attrs:{title:e.titleMap[e.dialogType],"close-on-click-modal":"view"===e.dialogType,visible:e.dialogFormVisible,width:"90%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.resetTemp}},[a("el-form",{ref:"dataForm",attrs:{model:e.temp,"label-position":"right","label-width":"150px",disabled:"view"===e.dialogType}},[a("el-form-item",{attrs:{label:"表单名称",prop:"formName",rules:[{required:!0,message:"表单名称不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入表单名称"},model:{value:e.temp.formName,callback:function(t){e.$set(e.temp,"formName",t)},expression:"temp.formName"}})],1),a("el-form-item",{attrs:{label:"表单内容json格式",prop:"formJson"}},[a("el-input",{attrs:{rules:[{required:!0,message:"表单内容json格式不能为空"}],type:"textarea",maxlength:"8,000",autosize:"",placeholder:"请输入表单内容json格式"},model:{value:e.temp.formJson,callback:function(t){e.$set(e.temp,"formJson",t)},expression:"temp.formJson"}})],1),a("el-form-item",{attrs:{label:"表名",prop:"tableName",rules:[{required:!0,message:"表名不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入表名"},model:{value:e.temp.tableName,callback:function(t){e.$set(e.temp,"tableName",t)},expression:"temp.tableName"}})],1),a("el-form-item",{attrs:{label:"表描述",prop:"tableDecription"}},[a("el-input",{attrs:{rules:[{required:!0,message:"表描述不能为空"}],type:"textarea",maxlength:"500",placeholder:"请输入表描述"},model:{value:e.temp.tableDecription,callback:function(t){e.$set(e.temp,"tableDecription",t)},expression:"temp.tableDecription"}})],1),a("el-form-item",{attrs:{label:"pom模块名",prop:"basePackage",rules:[{required:!0,message:"pom模块名不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入pom模块名"},model:{value:e.temp.basePackage,callback:function(t){e.$set(e.temp,"basePackage",t)},expression:"temp.basePackage"}})],1),a("el-form-item",{attrs:{label:"作者",prop:"author",rules:[{required:!0,message:"作者不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入作者"},model:{value:e.temp.author,callback:function(t){e.$set(e.temp,"author",t)},expression:"temp.author"}})],1),a("el-form-item",{attrs:{label:"生成包名",prop:"tablePackage",rules:[{required:!0,message:"生成包名不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入生成包名"},model:{value:e.temp.tablePackage,callback:function(t){e.$set(e.temp,"tablePackage",t)},expression:"temp.tablePackage"}})],1),a("el-form-item",{attrs:{label:"前端路径",prop:"viewPath",rules:[{required:!0,message:"前端路径不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入前端路径"},model:{value:e.temp.viewPath,callback:function(t){e.$set(e.temp,"viewPath",t)},expression:"temp.viewPath"}})],1),a("el-form-item",{attrs:{label:"代码生成状态",prop:"status",rules:[{required:!0,message:"代码生成状态不能为空"}]}},[a("el-radio-group",{model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("未生成")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("已生成")])],1)],1),a("el-form-item",{attrs:{label:"顺序",prop:"orderIndex",rules:[{required:!0,message:"顺序不能为空"},{type:"number",message:"必须为数字"}]}},[a("el-input-number",{attrs:{min:0},model:{value:e.temp.orderIndex,callback:function(t){e.$set(e.temp,"orderIndex",t)},expression:"temp.orderIndex"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["view"!==e.dialogType?a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.saveData}},[e._v("保存")]):e._e(),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)},o=[],n=a("5530"),s=(a("e9c4"),a("14d9"),a("d81d"),a("6724")),l=a("b775"),i=a("8a60"),c={directives:{waves:s["a"]},data:function(){return{pager:{page:1,limit:10,totalCount:0},tableData:[],searchData:{},tableSelectRows:[],titleMap:{add:"添加代码生成器表单",update:"修改代码生成器表单",view:"查看详情"},dialogType:"",dialogFormVisible:!1,temp:{},isLoading:!1}},created:function(){this.loadTableList(),this.resetTemp()},methods:{searchBtnHandle:function(){this.pager.page=1,this.loadTableList()},resetTableList:function(){this.pager.page=1,this.searchData={},this.loadTableList()},loadTableList:function(){var e=this;this.isLoading=!0;var t=Object(n["a"])(Object(n["a"])({},this.pager),{},{params:JSON.stringify(this.searchData)});Object(l["a"])({url:"/generator/zFormGenerator/list",method:"get",params:t}).then((function(t){var a=t.data;e.pager.totalCount=a.total,e.tableData=a.records,e.isLoading=!1}))},handleTableSelectChange:function(e){this.tableSelectRows=e},handleCurrentChange:function(e){this.pager.page=e,this.loadTableList()},handleSizeChange:function(e){this.pager.limit=e,this.loadTableList()},resetTemp:function(){this.temp={orderIndex:0}},openAdd:function(){this.$router.push({path:"/generator/form?openType=new"})},openUpdate:function(e){this.$router.push({path:"/generator/form?fid="+e.formId})},openView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogType="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},saveData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a=Object(n["a"])({},e.temp);"update"===e.dialogType?Object(l["a"])({url:"/generator/zFormGenerator/update",method:"put",data:a}).then((function(t){e.$message({type:"success",message:"修改成功！"}),e.loadTableList(),e.dialogFormVisible=!1})):Object(l["a"])({url:"/generator/zFormGenerator/add",method:"post",data:a}).then((function(t){e.$message({type:"success",message:"添加成功！"}),e.loadTableList(),e.dialogFormVisible=!1}))}}))},deleteByIds:function(e){var t=this;e&&(this.$refs.dataTable.clearSelection(),this.$refs.dataTable.toggleRowSelection(e,!0)),this.tableSelectRows.length<=0?this.$message({message:"请选择一条数据删除！",type:"warning"}):this.$confirm("确定要删除吗?","删除提醒",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.tableSelectRows.map((function(e){return e.formId}));Object(l["a"])({url:"/generator/zFormGenerator/delete",method:"delete",data:e}).then((function(e){t.$message({type:"success",message:"删除成功！"}),t.loadTableList()}))}))},exportExcel:function(){var e={params:JSON.stringify(this.searchData)};i["a"].download("/generator/zFormGenerator/export/excel",e,"代码生成器表单.xlsx")},importExcelSuccess:function(e){"200"===e.code?(this.$message({type:"success",message:"导入成功！"}),this.loadTableList()):this.$message({type:"error",message:e.message})}}},p=c,u=a("2877"),m=Object(u["a"])(p,r,o,!1,null,null,null);t["default"]=m.exports},"8a60":function(e,t,a){"use strict";var r=a("c7eb"),o=a("1da1"),n=(a("b64b"),a("cee4")),s=a("5c96"),l=a("21a6"),i=a("5f87"),c={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"},p=a("b893"),u="/dashuserver";t["a"]={zip:function(e,t){var a=this,r=s["Loading"].service({text:"正在下载数据，请稍候",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"});Object(n["a"])({method:"get",url:u+e,responseType:"blob",headers:{UserJwtToken:Object(i["a"])()}}).then((function(e){var o=Object(p["a"])(e.data);if(o){var n=new Blob([e.data],{type:"application/zip"});a.saveAs(n,t),r.close()}else a.printErrMsg(e.data),r.close()}))},download:function(e,t,a){var c=s["Loading"].service({text:"正在下载数据，请稍候",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"});Object(n["a"])({method:"get",url:u+e,params:t,headers:{UserJwtToken:Object(i["a"])()}}).then(function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(t){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:"200"===t.data.code?(Object(l["saveAs"])(u+t.data.data,a),c.close()):s["Message"].error(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),s["Message"].error("下载文件出现错误，请重试！"),c.close()}))},saveAs:function(e,t,a){Object(l["saveAs"])(e,t,a)},printErrMsg:function(e){return Object(o["a"])(Object(r["a"])().mark((function t(){var a,o,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.text();case 2:a=t.sent,o=JSON.parse(a),n=c[o.code]||o.msg||c["default"],s["Message"].error(n);case 6:case"end":return t.stop()}}),t)})))()}}}}]);