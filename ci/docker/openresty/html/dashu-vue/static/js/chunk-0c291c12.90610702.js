(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c291c12","chunk-31227190","chunk-2d222146","chunk-2d0d0ba5","chunk-2d237873"],{"0feb":function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return n})),i.d(t,"e",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return c})),i.d(t,"f",(function(){return l}));var o=i("b775");function s(){return Object(o["a"])({url:"/permission/treeList",method:"get"})}function n(e){return Object(o["a"])({url:"/permission/add",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/permission/update",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/permission/delete",method:"DELETE",data:e})}function c(e){return Object(o["a"])({url:"/permission/getListById",method:"GET",params:{permissionId:e}})}function l(e){return Object(o["a"])({url:"/permission/updateParentId",method:"post",data:e})}},"68e2":function(e,t,i){"use strict";i.r(t);var o=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"];t["default"]=o},cca1:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.iconName,placement:"top"}},[e.iconName.startsWith("el-icon")?i("i",{class:e.iconName}):i("svg-icon",{attrs:{name:e.iconName,"icon-class":e.iconName}})],1)},s=[],n={name:"EIcon",props:{iconName:{type:String,required:!0}}},r=n,a=i("2877"),c=Object(a["a"])(r,o,s,!1,null,null,null);t["default"]=c.exports},cfc1:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("div",{staticStyle:{margin:"10px 0px","text-align":"center"}},[e._v(" "+e._s(e.currentPermissionRow.permissionTitle)+"： "),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:e.permissionButtonAdd}}),i("el-button",{attrs:{type:"info",icon:"el-icon-edit",circle:""},on:{click:e.permissionButtonUpdate}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:e.permissionButtonDelete}}),i("el-button",{attrs:{type:"warning",icon:"el-icon-close",circle:""},on:{click:e.permissionButtonClose}})],1),i("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.selectionChangeHandlerOrder}},[i("el-table-column",{attrs:{type:"selection",width:"55","header-align":"center",align:"center"}}),i("el-table-column",{attrs:{label:"元素名称","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[i("el-tooltip",{key:"tip"+o.permissionId,attrs:{placement:"bottom"}},[i("div",{key:"tipcontent"+o.permissionId,staticStyle:{"line-height":"30px"},attrs:{slot:"content"},slot:"content"},[e._v(" 名称："+e._s(o.permissionTitle)+" 标签："+e._s(o.permissionName)+" "),i("br"),e._v("描述："+e._s(o.permissionDescription)+" ")]),i("div",{staticStyle:{cursor:"pointer"}},[e._v(" "+e._s(o.permissionTitle)+" ")])])]}}])}),i("el-table-column",{attrs:{prop:"permissionOrder",label:"顺序",width:"80",sortable:"",align:"center"}})],1),i("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],width:"700px",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"650px"},attrs:{model:e.temp,rules:e.rules,"label-position":"right","label-width":"100px"}},[i("el-form-item",{attrs:{label:"名称：",prop:"permissionTitle"}},["update"===this.dialogStatus?i("el-input",{attrs:{placeholder:"按钮名称"},model:{value:e.temp.permissionTitle,callback:function(t){e.$set(e.temp,"permissionTitle",t)},expression:"temp.permissionTitle"}}):i("el-input",{attrs:{placeholder:"按钮名称"},on:{input:function(t){e.temp.permissionDescription=e.currentPermissionRow.permissionTitle+"-"+e.temp.permissionTitle}},model:{value:e.temp.permissionTitle,callback:function(t){e.$set(e.temp,"permissionTitle",t)},expression:"temp.permissionTitle"}})],1),i("el-form-item",{attrs:{label:"标记：",prop:"permissionName"}},[i("el-input",{attrs:{placeholder:"唯一标记-用于控制权限，推荐格式：模块名-按钮名（例：system-menu-add）"},model:{value:e.temp.permissionName,callback:function(t){e.$set(e.temp,"permissionName",t)},expression:"temp.permissionName"}})],1),i("el-form-item",{attrs:{label:"描述：",prop:"permissionDescription"}},[i("el-input",{attrs:{type:"textarea",placeholder:"按钮简介"},model:{value:e.temp.permissionDescription,callback:function(t){e.$set(e.temp,"permissionDescription",t)},expression:"temp.permissionDescription"}})],1),i("el-form-item",{attrs:{label:"类型：",prop:"permissionType"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.temp.permissionType,callback:function(t){e.$set(e.temp,"permissionType",t)},expression:"temp.permissionType"}},[e._v("按钮")]),i("el-radio",{attrs:{label:"3"},model:{value:e.temp.permissionType,callback:function(t){e.$set(e.temp,"permissionType",t)},expression:"temp.permissionType"}},[e._v("其他")])],1),i("el-form-item",{attrs:{label:"图标：",prop:"permissionIcon"}},[i("IconPicker",{model:{value:e.temp.permissionIcon,callback:function(t){e.$set(e.temp,"permissionIcon",t)},expression:"temp.permissionIcon"}})],1),i("el-form-item",{attrs:{label:"顺序：",prop:"permissionOrder"}},[i("el-input-number",{attrs:{min:0},model:{value:e.temp.permissionOrder,callback:function(t){e.$set(e.temp,"permissionOrder",e._n(t))},expression:"temp.permissionOrder"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("保存")]),i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1)},s=[],n=(i("14d9"),i("0feb")),r=i("d591"),a={name:"PermissionButton",components:{IconPicker:r["default"]},props:{currentPermissionRow:{type:Object},closeButtonTable:{type:Function}},data:function(){return{tableData:[],total:0,listQuery:{page:1,limit:10},changeData:[],permissionIds:[],dialogStatus:"",textMap:{update:"修改",create:"新增"},dialogFormVisible:!1,apiTableVisible:!1,temp:[],rules:{permissionName:[{required:!0,message:"请填写标记",trigger:"blur"}],permissionTitle:[{required:!0,message:"请填写名称",trigger:"blur"}],permissionOrder:[{required:!0,message:"请填写顺序",trigger:"blur"},{type:"number",message:"请填写数字"}]}}},watch:{currentPermissionRow:function(){this.getList()}},created:function(){this.getList(),this.resetTemp()},methods:{selectionChangeHandlerOrder:function(e){this.changeData=e},getList:function(){var e=this;Object(n["a"])(this.currentPermissionRow.permissionId).then((function(t){e.listLoading=!0,e.tableData=t.data,e.listLoading=!1}))},resetTemp:function(){this.temp={permissionId:"",parentId:this.currentPermissionRow.permissionId,permissionName:"",permissionDescription:"",permissionType:"1",permissionTitle:"",permissionIcon:"",permissionIsShow:!0,permissionIsEnabled:!0,permissionRouter:"",permissionComponent:"",noRedirect:"noRedirect",noCache:!1,breadcrumb:!0,affix:!1,permissionOrder:0}},permissionButtonAdd:function(){var e=this;this.resetTemp(),this.temp.permissionName=this.currentPermissionRow.permissionName+"-",this.dialogFormVisible=!0,this.dialogStatus="create",this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(n["b"])(e.temp).then((function(t){e.dialogFormVisible=!1,t.data?(e.$message({type:"success",message:"添加成功！"}),e.getList()):e.$message({type:"error",message:"添加失败！"})}))}))},permissionButtonUpdate:function(){var e=this;if(this.changeData.length<=0)this.$message({message:"请选择一条数据进行修改",type:"warning"});else if(this.changeData.length>1)this.$message({message:"修改时只允许选择一条数据",type:"warning"});else{var t=this.changeData;this.temp=Object.assign({},t[0]),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))}},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(n["e"])(e.temp).then((function(t){e.dialogFormVisible=!1,t.data?(e.$message({type:"success",message:"修改成功！"}),e.getList()):e.$message({type:"error",message:"修改失败！"})}))}))},permissionButtonDelete:function(){var e=this;if(this.changeData.length<=0)this.$message({message:"请选择一条数据进行删除!",type:"warning"});else{var t=this.changeData;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var i=0;i<t.length;i++)e.permissionIds.push(t[i].permissionId);Object(n["c"])(e.permissionIds).then((function(t){t.data?(e.$message({type:"success",message:"删除成功！"}),e.getList()):e.$message({type:"error",message:"删除失败！"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}},permissionButtonClose:function(){this.closeButtonTable()}}},c=a,l=i("2877"),p=Object(l["a"])(c,o,s,!1,null,"746464e2",null);t["default"]=p.exports},d591:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"IconPickder"},[i("el-popover",{attrs:{width:"600",trigger:"click"}},[i("div",{staticStyle:{"max-height":"400px","overflow-y":"scroll","overflow-x":"hidden"}},e._l(e.iconList,(function(t,o){return i("el-button",{key:o,staticStyle:{margin:"2px"},attrs:{plain:""},on:{click:function(i){e.iconName=t}}},[i("eIcon",{staticStyle:{"font-size":"20px"},attrs:{"icon-name":t}})],1)})),1),i("el-button",{attrs:{slot:"reference"},slot:"reference"},[""===e.iconName?i("span",[e._v("请选择图标")]):i("span",[i("eIcon",{attrs:{"icon-name":e.iconName}})],1)])],1),i("el-button",{directives:[{name:"show",rawName:"v-show",value:""!==e.iconName,expression:"iconName!==''"}],staticStyle:{"margin-left":"5px"},attrs:{type:"text"},on:{click:function(t){e.iconName=""}}},[e._v("清空")])],1)},s=[],n=(i("14d9"),i("cca1")),r=i("fc00"),a=i("68e2"),c={name:"IconPicker",components:{eIcon:n["default"]},props:{value:String},data:function(){return{svgIcons:r["default"],elementIcons:a["default"],iconName:this.value,iconList:[]}},watch:{iconName:function(){this.$emit("input",this.iconName)},value:function(){this.iconName=this.value}},mounted:function(){for(var e=0;e<r["default"].length;e++)this.iconList.push(r["default"][e]);for(var t=0;t<a["default"].length;t++)this.iconList.push("el-icon-"+a["default"][t])}},l=c,p=i("2877"),m=Object(p["a"])(l,o,s,!1,null,null,null);t["default"]=m.exports},fc00:function(e,t,i){"use strict";i.r(t);i("d3b7"),i("ddb0"),i("d81d"),i("ac1f"),i("466d");var o=i("51ff"),s=function(e){return e.keys()},n=/\.\/(.*)\.svg/,r=s(o).map((function(e){return e.match(n)[1]}));t["default"]=r}}]);